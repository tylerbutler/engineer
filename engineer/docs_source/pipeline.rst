
.. _build pipeline:

==================
The Build Pipeline
==================

TODO


Basic Flow
==========

All content first gets put into the output cache.

#. Copy base Engineer static content
#. Copy theme static content
#. Generate template pages
#. Load posts from cache and :attr:`~engineer.conf.EngineerConfiguration.POST_DIR`
#. Generate posts
#. Generate rollup pages
#. Generate archive pages
#. Generate tag pages
#. Generate feeds
#. Process/minify CSS/LESS/JS during post generation
#. Copy 'raw content' to output cache
#. Remove source LESS files from output cache is LESS preprocessing is turned on
#. Synchronize output directory with output cache


.. _raw content:

Raw Content
-----------

Raw content is simply content that you want to include in your site as-is with no processing. Static content such as
JavaScript and CSS could also be considered raw content but those sorts of files don't need to live at a specific
place in your site's URL. The raw content feature is specifically for content where placement matters,
such as for robots.txt files and favicons. These files must be in the root of your site,
so just treating them like regular static content won't work.

Raw content should be placed in your site's :attr:`~engineer.conf.EngineerConfiguration.CONTENT_DIR`,
and since it's the last thing copied in the build pipeline, it will overwrite any content that was generated by the
other phases of the build pipeline. Keep this in mind.

The structure of :attr:`~engineer.conf.EngineerConfiguration.CONTENT_DIR` should match your site's. In other words,
if you want something to wind up in the root of your site, you would put it at the root of your
:attr:`~engineer.conf.EngineerConfiguration.CONTENT_DIR`. Similarly, if you want something to wind up in ``/foo/`` in
your site, you'd put it in a ``foo`` folder inside your :attr:`~engineer.conf.EngineerConfiguration.CONTENT_DIR`.
